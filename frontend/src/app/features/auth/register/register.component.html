<!-- src/app/features/auth/register/register.component.html -->

<div class="register-page">
  <div class="register-card">
    <h2>Registro</h2>

    <!-- Mensaje de error -->
    <div *ngIf="errorMsg" class="error">
      {{ errorMsg }}
    </div>

    <form (ngSubmit)="onRegister()">
      <!-- Campo para el nombre de usuario -->
      <div class="form-group">
        <label for="nombre">Usuario</label>
        <input
          id="nombre"
          type="text"
          [(ngModel)]="nombre"
          name="nombre"
          class="form-control"
          placeholder="Ingresa tu nombre de usuario"
          required
        />
      </div>

      <!-- Desplegable de roles -->
      <div class="form-group">
        <label for="rol">Rol</label>
        <select
          id="rol"
          [(ngModel)]="codigoRol"
          name="codigoRol"
          class="form-control"
          required
        >
          <option value="" disabled>Selecciona un rol</option>
          <option *ngFor="let rol of roles" [value]="rol.codigo">
            {{ rol.nombre }}
          </option>
        </select>
      </div>

      <!-- Campo para la contraseña -->
      <div class="form-group">
        <label for="contrasena">Contraseña</label>
        <input
          id="contrasena"
          type="password"
          [(ngModel)]="contrasena"
          name="contrasena"
          class="form-control"
          placeholder="Ingresa tu contraseña"
          required
        />
      </div>

      <!-- Campo para confirmar contraseña -->
      <div class="form-group">
        <label for="confirmarContrasena">Confirmar Contraseña</label>
        <input
          id="confirmarContrasena"
          type="password"
          [(ngModel)]="confirmarContrasena"
          name="confirmarContrasena"
          class="form-control"
          placeholder="Confirma tu contraseña"
          required
        />
      </div>

      <!-- Botón de registro -->
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="
          !nombre ||
          !contrasena ||
          !confirmarContrasena ||
          !codigoRol ||
          contrasena !== confirmarContrasena
        "
      >
        Crear Cuenta
      </button>

      <!-- Enlace para volver al login -->
      <p class="register-link">
        <a (click)="goToLogin()">Volver al Inicio de Sesión</a>
      </p>
    </form>
  </div>
</div>
